---
title: 'Introdu√ß√£o'
description: 'Gerencie infraestrutura AWS diretamente do Kubernetes com o Infra Operator'
---

Gerencie recursos AWS diretamente do Kubernetes usando Custom Resources e GitOps.

## O que √© o Infra Operator?

O **Infra Operator** √© um operador Kubernetes que permite provisionar e gerenciar recursos AWS usando Custom Resources Definitions (CRDs). Ao inv√©s de usar ferramentas separadas como Terraform ou CloudFormation, voc√™ pode gerenciar sua infraestrutura AWS usando `kubectl` e ferramentas GitOps como ArgoCD.

### Principais Benef√≠cios

<CardGroup cols={2}>
  <Card title="GitOps Nativo" icon="git">
    Gerencie infraestrutura junto com aplica√ß√µes usando Git como fonte da verdade
  </Card>
  <Card title="Kubernetes Native" icon="dharmachakra">
    Use kubectl, Helm e ferramentas familiares do ecossistema Kubernetes
  </Card>
  <Card title="Clean Architecture" icon="layer-group">
    C√≥digo organizado, test√°vel (100% coverage) e manuten√≠vel seguindo padr√µes de arquitetura
  </Card>
  <Card title="26 Servi√ßos AWS" icon="aws">
    Suporte completo para networking, compute, storage, database, messaging, CDN, security e mais
  </Card>
</CardGroup>

## Servi√ßos Suportados (26 Total)

### üì° Networking (9 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **VPC** | Virtual Private Cloud |
| **Subnet** | VPC Subnets |
| **Internet Gateway** | Internet access para VPC |
| **NAT Gateway** | Outbound internet para private subnets |
| **Security Group** | Firewall rules |
| **Route Table** | Network routing |
| **ALB** | Application Load Balancer (Layer 7) |
| **NLB** | Network Load Balancer (Layer 4) |
| **Elastic IP** | Static public IP addresses |

### ‚öôÔ∏è Compute (3 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **EC2 Instance** | Virtual machines |
| **Lambda** | Serverless functions |
| **EKS** | Kubernetes clusters |

### üíæ Storage & Database (3 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **S3 Bucket** | Object storage |
| **RDS Instance** | Relational databases (PostgreSQL, MySQL, etc.) |
| **DynamoDB Table** | NoSQL database |

### üì® Messaging (2 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **SQS Queue** | Message queues |
| **SNS Topic** | Pub/Sub notifications |

### üåê API & CDN (2 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **API Gateway** | REST, HTTP, WebSocket APIs |
| **CloudFront** | Content Delivery Network (CDN) |

### üîê Security (4 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **IAM Role** | Identity and access management |
| **Secrets Manager** | Secrets storage |
| **KMS Key** | Encryption keys |
| **ACM Certificate** | SSL/TLS certificates |

### üê≥ Containers (2 servi√ßos)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **ECR Repository** | Container registry |
| **ECS Cluster** | Container orchestration |

### ‚ö° Caching (1 servi√ßo)

| Servi√ßo | Descri√ß√£o |
|---------|-----------|
| **ElastiCache** | In-memory cache (Redis, Memcached) |

## Exemplo R√°pido

```yaml
---
# Criar VPC
apiVersion: infra.operator.aws.io/v1alpha1
kind: VPC
metadata:
  name: production-vpc
spec:
  providerRef:
    name: aws-provider
  cidrBlock: "10.0.0.0/16"
  enableDnsSupport: true
  enableDnsHostnames: true

---
# Criar Subnet P√∫blica
apiVersion: infra.operator.aws.io/v1alpha1
kind: Subnet
metadata:
  name: public-subnet
spec:
  providerRef:
    name: aws-provider
  vpcID: vpc-xxx  # Ser√° preenchido automaticamente
  cidrBlock: "10.0.1.0/24"
  mapPublicIpOnLaunch: true

---
# Criar Bucket S3
apiVersion: infra.operator.aws.io/v1alpha1
kind: S3Bucket
metadata:
  name: app-data
spec:
  providerRef:
    name: aws-provider
  bucketName: myapp-production-data
  versioning:
    enabled: true
  encryption:
    algorithm: AES256
```

```bash
kubectl apply -f infrastructure.yaml
```

## Arquitetura

### Vis√£o Geral do Sistema

O Infra Operator segue uma arquitetura de controller pattern do Kubernetes:

**Fluxo de Funcionamento:**

1. **GitOps / kubectl** ‚Üí Cria Custom Resources (CRs) no Kubernetes
2. **Controllers** ‚Üí Detectam mudan√ßas nos CRs e reconciliam o estado
3. **AWS SDK** ‚Üí Controllers usam AWS SDK para provisionar recursos
4. **Status Update** ‚Üí Estado do recurso AWS √© refletido no CR

**Componentes Principais:**

- **26 Controllers**: Um para cada servi√ßo AWS (VPC, S3, EC2, Lambda, etc.)
- **26 CRDs**: Custom Resource Definitions para cada tipo de recurso
- **AWS SDK v2**: Comunica√ß√£o com APIs AWS
- **Reconciliation Loop**: Garante que estado desejado = estado real

### Clean Architecture

Implementa√ß√£o seguindo princ√≠pios de **Clean Architecture** para c√≥digo test√°vel (100% coverage), manuten√≠vel e desacoplado:

**Camadas da Arquitetura:**

**1. Domain Layer (Core)**
- Modelos de neg√≥cio puros (VPC, S3, EC2, etc.)
- Regras de valida√ß√£o
- Sem depend√™ncias externas
- 100% test coverage

**2. Use Cases Layer**
- L√≥gica de aplica√ß√£o
- Create, Update, Delete, GetStatus
- Orquestra√ß√£o de dom√≠nio
- Interface com Ports

**3. Ports Layer (Interfaces)**
- Repository interfaces
- Cloud Provider interfaces
- Dependency inversion principle
- Contratos abstratos

**4. Adapters Layer**
- AWS SDK implementations
- Kubernetes client
- Implementa√ß√µes concretas dos Ports
- Comunica√ß√£o com sistemas externos

**5. Controllers Layer**
- Reconciliation loops
- Kubernetes API integration
- Event handling
- CR ‚Üî Domain mapping

**Benef√≠cios:**
- ‚úÖ Testabilidade: 100% coverage no domain
- ‚úÖ Manutenibilidade: Separa√ß√£o clara de responsabilidades
- ‚úÖ Flexibilidade: F√°cil adicionar novos servi√ßos
- ‚úÖ Independ√™ncia: Core desacoplado de frameworks

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card
    title="Instala√ß√£o"
    icon="download"
    href="/installation"
  >
    Instale o operador no seu cluster Kubernetes
  </Card>

  <Card
    title="In√≠cio R√°pido"
    icon="rocket"
    href="/quickstart"
  >
    Configure e crie seu primeiro recurso AWS
  </Card>

  <Card
    title="Servi√ßos"
    icon="list"
    href="/services/networking/vpc"
  >
    Explore todos os servi√ßos AWS dispon√≠veis
  </Card>

  <Card
    title="Guia Completo"
    icon="book"
    href="/SERVICES_GUIDE.md"
  >
    Documenta√ß√£o detalhada de todos os servi√ßos
  </Card>
</CardGroup>

